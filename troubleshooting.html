<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Troubleshooting failed recipes &mdash; Bioconda  documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Bioconda  documentation" href="index.html" />
    <link rel="up" title="Contributing" href="contributing.html" />
    <link rel="next" title="Build system" href="build-system.html" />
    <link rel="prev" title="Contributing a recipe" href="contribute-a-recipe.html" />
<link rel="stylesheet" type="text/css" href="_static/font-awesome-4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="_static/style.css">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jqc-1.12.3/dt-1.10.12/datatables.min.css"/>
<link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">  
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jqc-1.12.3/dt-1.10.12/datatables.min.js"></script>

<script type="text/javascript" class="init">
$(document).ready(function() {
    $('#recipestable').DataTable( {
        "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]]
    } );
} );
</script>

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="troubleshooting-failed-recipes">
<h1>Troubleshooting failed recipes<a class="headerlink" href="#troubleshooting-failed-recipes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="reading-bioconda-utils-logs-on-travis-ci">
<span id="reading-logs"></span><h2>Reading bioconda-utils logs on Travis-CI<a class="headerlink" href="#reading-bioconda-utils-logs-on-travis-ci" title="Permalink to this headline">¶</a></h2>
<p>For successfully-built recipes, bioconda-utils will report build start/success
and test start/success. If a recipe fails, an error log message starting with
<cite>BIOCONDA BUILD FAIL</cite> will be printed. After that will be some verbose output.
That output is the captured, merged stdout and stderr from running conda-build
on that recipe.</p>
<p>Usually the easiest thing to do is grep for <cite>BIOCONDA BUILD FAIL</cite>, and start
reading the output below that line. The stdout and stderr for that failed build
will end with the next <cite>BIOCONDA</cite> log line, likely a <cite>BIOCONDA BUILD START</cite> or
<cite>BIOCONDA BUILD SUMMARY</cite> line.</p>
<p>At the end of the log are <cite>BIOCONDA BUILD SUMMARY</cite> lines which indicate how
many recipes were built successfully, how many failed, and how many were
skipped because one of their dependencies failed to build in this run.</p>
<p>Here&#8217;s an annotated example build log to help familiarize yourself with log output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>=============================================================================
## This is the command sent to bioconda-build for reproducing locally if
## needed
=============================================================================

bioconda-utils build recipes config.yml --docker --loglevel=info --mulled-test



=============================================================================
## bioconda-utils pulls a docker image and builds a custom one. Any issues
## with docker will be reported here; this build went fine.
=============================================================================

INFO bioconda_utils.docker_utils:_pull_image(295): BIOCONDA DOCKER: Pulling
docker image condaforge/linux-anvil
INFO bioconda_utils.docker_utils:_pull_image(301): BIOCONDA DOCKER: Done
pulling image
INFO bioconda_utils.docker_utils:_build_image(334): BIOCONDA DOCKER: Built
docker image tag=tmp-bioconda-builder



=============================================================================
## A list of recipes that are blacklisted. This example log comes
## from a time when we were re-building lots of R packages and had to
## prevent some from building until their prerequisites were built.
##
## If a recipe is on this list, it will not get built.
###
=============================================================================

INFO bioconda_utils.build:build_recipes(198): blacklist: autoconf,
bcbio-rnaseq, bioconductor-basic4cseq, bioconductor-biovizbase,
bioconductor-bubbletree, bioconductor-bumphunter, bioconductor-cexor,
bioconductor-chipcomp, bioconductor-chipseeker, bioconductor-clusterprofiler,
bioconductor-cummerbund, bioconductor-dada2, bioconductor-deseq2/1.10.1,
bioconductor-dexseq, bioconductor-diffbind, bioconductor-dose,
bioconductor-ebseq, bioconductor-flowai, bioconductor-fourcseq,
bioconductor-genelendatabase/1.6.0, bioconductor-genomation,
bioconductor-ggbio, bioconductor-iranges/2.4.6, bioconductor-iranges/2.4.7,
bioconductor-isomirs, bioconductor-jmosaics, bioconductor-limma/3.26.7,
bioconductor-limma/3.28.2, bioconductor-limma/3.28.6, bioconductor-made4,
bioconductor-minfi, bioconductor-mmdiff, bioconductor-mosaics,
bioconductor-phyloseq, bioconductor-piano, bioconductor-qdnaseq,
bioconductor-s4vectors/0.8.7, bioconductor-shortread,
bioconductor-summarizedexperiment/1.0.2, bioconductor-systempiper,
bioconductor-variantannotation, cap-mirseq, gvcftools, lefse, mgkit,
poretools/0.5.0, poretools/0.5.1, r-batchjobs, r-catools, r-dorng, r-gmd,
r-gplots, r-gsalib, r-hdrcde, r-knitr, r-knitrbootstrap, r-ks, r-mixomics,
r-mutationalpatterns, r-mutoss, r-phonr, r-rainbow, r-readr, r-rmarkdown,
r-sartools/1.2.0, r-sendmailr, r-spp, r-vegan/2.3_0, r-vegan/2.3_3,
r-vegan/2.3_4, rpy2, rsem, triform2



=============================================================================
## bioconda-utils checks each recipe to see if that version already exists
## on the ibioconda channel. This is a comprehensive check, and takes a
## couple of minutes. Here there were 1735 recipes to check.
=============================================================================

INFO bioconda_utils.build:build_recipes(233): Filtering recipes
Filtering 1735 of 1735 (100.0%) recipes/zifa



=============================================================================
## A report of what recipes made it through the filter. This is the total
## set of recipes to build across all sub-DAGs.
=============================================================================

INFO bioconda_utils.build:build_recipes(250): Building and testing 8 recipes in
total
INFO bioconda_utils.build:build_recipes(251): Recipes to build:
bioconductor-cummerbund
bioconductor-txdb.mmusculus.ucsc.mm10.ensgene
bioconductor-goseq
bioconductor-txdb.hsapiens.ucsc.hg19.knowngene
bioconductor-txdb.dmelanogaster.ucsc.dm3.ensgene
bioconductor-genelendatabase
bioconductor-csaw
bioconductor-organismdbi



=============================================================================
## A report of what recipes will be built in *this* sub-DAG. The other 3
## will be built in parallel in subdag 1.
=============================================================================

INFO bioconda_utils.build:build_recipes(288): Building and testing subdag 0 of
2 (5 recipes)



=============================================================================
## Starting the build of the bioconductor-csaw package, using the environment
## specified.
=============================================================================

INFO bioconda_utils.build:build(57): BIOCONDA BUILD START
recipes/bioconductor-csaw, env:
CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1



=============================================================================
## We didn&#39;t get very far, the first recipe failed!
=============================================================================

ERROR bioconda_utils.build:build(111): BIOCONDA BUILD FAILED
recipes/bioconductor-csaw,
CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1



=============================================================================
## A report of the commands used to build the recipe under docker. This
## includes information on which paths were exported to the container to help with
## troubleshooting.
=============================================================================

ERROR bioconda_utils.build:build(112): COMMAND: [&#39;docker&#39;, &#39;run&#39;, &#39;--net&#39;,
&#39;host&#39;, &#39;-v&#39;, &#39;/tmp/tmphs0khbp_/build_script.bash:/opt/build_script.bash&#39;,
&#39;-v&#39;, &#39;/anaconda/conda-bld:/opt/host-conda-bld&#39;, &#39;-v&#39;,
&#39;/home/travis/build/daler/bioconda-recipes/recipes/bioconductor-csaw:/opt/recipe&#39;,
&#39;-e&#39;, &#39;CONDA_BOOST=1.60&#39;, &#39;-e&#39;, &#39;CONDA_GMP=5.1&#39;, &#39;-e&#39;, &#39;CONDA_GSL=1.16&#39;, &#39;-e&#39;,
&#39;CONDA_PERL=5.22.0&#39;, &#39;-e&#39;, &#39;CONDA_R=3.3.1&#39;, &#39;-e&#39;, &#39;CONDA_NCURSES=5.9&#39;, &#39;-e&#39;,
&#39;CONDA_NPY=110&#39;, &#39;-e&#39;, &#39;CONDA_PY=27&#39;, &#39;tmp-bioconda-builder&#39;, &#39;/bin/bash&#39;,
&#39;/opt/build_script.bash&#39;]



=============================================================================
## The start of the merged stdout and stderr for building this recipe.
##
## That first part about bash not being able to set terminal process group or
## job control can be ignored. It&#39;s related to how the docker container is run,
## and is expected.
=============================================================================

ERROR bioconda_utils.build:build(113): STDOUT+STDERR: bash: cannot set terminal
process group (-1): Inappropriate ioctl for device
bash: no job control in this shell



=============================================================================
## This is the actual start of the error log...
## The first part shows the updating of conda-build that happens in the docker
## container at the start of the build:
=============================================================================

Fetching package metadata .........
Solving package specifications: ..........
Package plan for installation in environment /opt/conda:
The following packages will be downloaded:
    package                    |            build
    ---------------------------|-----------------
    conda-build-2.0.7          |           py35_0         275 KB  defaults
The following packages will be UPDATED:
    conda:       4.1.11-py35_1 conda-forge --&gt; 4.1.12-py35_0 conda-forge
    conda-build: 2.0.4-py35_0  defaults    --&gt; 2.0.7-py35_0  defaults
Proceed ([y]/n)?
Using Anaconda Cloud api site https://api.anaconda.org
Fetching packages ...
conda-build-2. 100% |###############################| Time: 0:00:00   5.79 MB/s
Extracting packages ...
[      COMPLETE      ]|##################################################| 100%
Unlinking packages ...
[      COMPLETE      ]|##################################################| 100%
Linking packages ...
[      COMPLETE      ]|##################################################| 100%



=============================================================================
## Now comes the building of the package.
##
## First is a list of the packages that will be downloaded along with what
## channel they are coming from. This is useful for making sure your recipes is
## pulling in dependencies from the right place.
=============================================================================

BUILD START: bioconductor-csaw-1.6.1-r3.3.1_0
updating index in: /opt/conda/conda-bld/linux-64
updating index in: /opt/conda/conda-bld/noarch
The following packages will be downloaded:
    package                    |            build
    ---------------------------|-----------------
    bzip2-1.0.6                |                3          83 KB  defaults
    icu-54.1                   |                0        11.3 MB  defaults
    jbig-2.1                   |                0          29 KB  defaults
    jpeg-8d                    |                2         806 KB  defaults
    libffi-3.2.1               |                0          36 KB  defaults
    libgcc-5.2.0               |                0         1.1 MB  defaults

=============================================================================
## ... ommitting a lot of packages here for brevity....
=============================================================================

    r-snow-0.4_1               |         r3.3.1_0          62 KB  bioconda
    r-futile.logger-1.4.1      |         r3.3.1_0          84 KB  bioconda
    bioconductor-biocparallel-1.6.6|         r3.3.1_0         655 KB  bioconda
    bioconductor-rsamtools-1.24.0|         r3.3.1_0         3.2 MB  bioconda
    bioconductor-genomicalignments-1.8.4|         r3.3.1_0         1.5 MB  bioconda
    bioconductor-rtracklayer-1.32.2|         r3.3.1_1         1.9 MB  bioconda
    bioconductor-genomicfeatures-1.24.5|         r3.3.1_0         1.1 MB  bioconda
    ------------------------------------------------------------



=============================================================================
## This section repeats pretty much the same information, listing the packages
## to be installed in order to build the package.
=============================================================================

                                           Total:       143.9 MB
The following NEW packages will be INSTALLED:
    bioconductor-annotationdbi:        1.34.4-r3.3.1_1   bioconda
    bioconductor-biobase:              2.32.0-r3.3.1_0   bioconda
    bioconductor-biocgenerics:         0.18.0-r3.3.1_0   bioconda
    bioconductor-biocparallel:         1.6.6-r3.3.1_0    bioconda
=============================================================================
## ... ommitting a lot of packages here for brevity....
=============================================================================
    ncurses:                           5.9-8             defaults
    openssl:                           1.0.2j-0          defaults
    pango:                             1.39.0-1          defaults
Using Anaconda Cloud api site https://api.anaconda.org



=============================================================================
## You may see this warning especially when building R packages. It has to do
## with how conda used to work and how it works now. You can ignore the
## &quot;placeholder&quot; warnings and path padding..
=============================================================================

WARNING:/opt/conda/lib/python3.5/site-packages/conda_build/build.py:Build prefix failed with prefix length 255
WARNING:/opt/conda/lib/python3.5/site-packages/conda_build/build.py:Error was:
WARNING:/opt/conda/lib/python3.5/site-packages/conda_build/build.py:ERROR:
placeholder
&#39;/home/ray/r_3_3_1-x64-3.5/envs/_build_placehold_placehold_placehold_placehold_pl&#39;
too short in: ncurses-5.9-8
WARNING:/opt/conda/lib/python3.5/site-packages/conda_build/build.py:One or more
of your package dependencies needs to be rebuilt with a longer prefix length.
WARNING:/opt/conda/lib/python3.5/site-packages/conda_build/build.py:Falling
back to legacy prefix length of 80 characters.
WARNING:/opt/conda/lib/python3.5/site-packages/conda_build/build.py:Your
package will not install into prefixes &gt; 80 characters.
+ source /opt/conda/bin/activate
/opt/conda/conda-bld/_b_env_placehold_placehold_placehold_placehold_placehold_pl



=============================================================================
## This is finally the part where the build.sh script is run...
=============================================================================

+ mv DESCRIPTION DESCRIPTION.old
+ grep -v &#39;^Priority: &#39; DESCRIPTION.old
+
/opt/conda/conda-bld/_b_env_placehold_placehold_placehold_placehold_placehold_pl/bin/R
CMD INSTALL --build .
* installing to library
‘/opt/conda/conda-bld/_b_env_placehold_placehold_placehold_placehold_placehold_pl/lib/R/library’



=============================================================================
##
## THIS is finally the error we got. This is the thing we have to fix in
## the recipe. In this case it was a missing dependency.
##
=============================================================================

ERROR: dependency ‘Rhtslib’ is not available for package ‘csaw’



=============================================================================
## conda-build then does some cleaning up. The remainder here is generally not
## useful for troubleshooting recipes.
=============================================================================

* removing
‘/opt/conda/conda-bld/_b_env_placehold_placehold_placehold_placehold_placehold_pl/lib/R/library/csaw’
    pcre:                              8.39-0            defaults
    pixman:                            0.32.6-0          defaults
    r:                                 3.3.1-r3.3.1_0    r
    r-base:                            3.3.1-3           r
    r-bitops:                          1.0_6-r3.3.1_2    r

=============================================================================
## ...omitting for brevity...
=============================================================================

    tk:                                8.5.18-0          defaults
    xz:                                5.2.2-0           defaults
    zlib:                              1.2.8-3           defaults




=============================================================================
## conda-build actually tries to test the package even if it failed building.
## We now expect it to fail, so this part is not that meaningful
=============================================================================

updating index in: /opt/conda/conda-bld/linux-64
updating index in: /opt/conda/conda-bld/noarch
The following NEW packages will be INSTALLED:
    bioconductor-annotationdbi:        1.34.4-r3.3.1_1   bioconda
    bioconductor-biobase:              2.32.0-r3.3.1_0   bioconda
    bioconductor-biocgenerics:         0.18.0-r3.3.1_0   bioconda
    readline:                          6.2-2             defaults

=============================================================================
## ...omitting for brevity...
=============================================================================

    tk:                                8.5.18-0          defaults
    xz:                                5.2.2-0           defaults
    zlib:                              1.2.8-3           defaults

Source cache directory is: /opt/conda/conda-bld/src_cache
Downloading source to cache: csaw_1.6.1.tar.gz
Downloading http://bioconductor.org/packages/3.3/bioc/src/contrib/csaw_1.6.1.tar.gz
Success
Extracting download
Package: bioconductor-csaw-1.6.1-r3.3.1_0
source tree in: /opt/conda/conda-bld/work/csaw
Command failed: /bin/bash -x -e /opt/conda/conda-bld/work/csaw/conda_build.sh



=============================================================================
## Now the other recipes will be built. In this case they all worked. Each
## recipe has a BIOCONDA BUILD START, BIOCONDA BUILD SUCCESS, BIOCONDA TEST START
## and BIOCONDA TEST SUCCESS line for each unique environment (here, these
## recipes only are built for a single environment).
##
=============================================================================

INFO bioconda_utils.build:build(57): BIOCONDA BUILD START recipes/bioconductor-txdb.mmusculus.ucsc.mm10.ensgene, env: CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
INFO bioconda_utils.build:build(106): BIOCONDA BUILD SUCCESS /anaconda/conda-bld/linux-64/bioconductor-txdb.mmusculus.ucsc.mm10.ensgene-3.2.2-r3.3.1_0.tar.bz2, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
INFO bioconda_utils.build:build(123): BIOCONDA TEST START via mulled-build recipes/bioconductor-txdb.mmusculus.ucsc.mm10.ensgene, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
updating index in: /anaconda/conda-bld/linux-64
INFO bioconda_utils.build:build(128): BIOCONDA TEST SUCCESS recipes/bioconductor-txdb.mmusculus.ucsc.mm10.ensgene, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
INFO bioconda_utils.build:build(57): BIOCONDA BUILD START recipes/bioconductor-genelendatabase, env: CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
INFO bioconda_utils.build:build(106): BIOCONDA BUILD SUCCESS /anaconda/conda-bld/linux-64/bioconductor-genelendatabase-1.10.0-r3.3.1_0.tar.bz2, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
INFO bioconda_utils.build:build(123): BIOCONDA TEST START via mulled-build recipes/bioconductor-genelendatabase, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
updating index in: /anaconda/conda-bld/linux-64
INFO bioconda_utils.build:build(128): BIOCONDA TEST SUCCESS recipes/bioconductor-genelendatabase, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
INFO bioconda_utils.build:build(57): BIOCONDA BUILD START recipes/bioconductor-goseq/1.22.0, env: CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
INFO bioconda_utils.build:build(106): BIOCONDA BUILD SUCCESS /anaconda/conda-bld/linux-64/bioconductor-goseq-1.22.0-r3.3.1_0.tar.bz2, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
INFO bioconda_utils.build:build(123): BIOCONDA TEST START via mulled-build recipes/bioconductor-goseq/1.22.0, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
updating index in: /anaconda/conda-bld/linux-64
INFO bioconda_utils.build:build(128): BIOCONDA TEST SUCCESS recipes/bioconductor-goseq/1.22.0, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
INFO bioconda_utils.build:build(57): BIOCONDA BUILD START recipes/bioconductor-txdb.dmelanogaster.ucsc.dm3.ensgene, env: CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
INFO bioconda_utils.build:build(106): BIOCONDA BUILD SUCCESS /anaconda/conda-bld/linux-64/bioconductor-txdb.dmelanogaster.ucsc.dm3.ensgene-3.2.2-r3.3.1_0.tar.bz2, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
INFO bioconda_utils.build:build(123): BIOCONDA TEST START via mulled-build recipes/bioconductor-txdb.dmelanogaster.ucsc.dm3.ensgene, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1
updating index in: /anaconda/conda-bld/linux-64
INFO bioconda_utils.build:build(128): BIOCONDA TEST SUCCESS recipes/bioconductor-txdb.dmelanogaster.ucsc.dm3.ensgene, CONDA_BOOST=1.60;CONDA_GMP=5.1;CONDA_GSL=1.16;CONDA_NCURSES=5.9;CONDA_NPY=110;CONDA_PERL=5.22.0;CONDA_PY=27;CONDA_R=3.3.1



=============================================================================
## At the end is a report summarizing what worked and what failed so you know
## what to look for up in the main log.
=============================================================================

ERROR bioconda_utils.build:build_recipes(340): BIOCONDA BUILD SUMMARY: of 5
recipes, 1 failed and 0 were skipped. Details of recipes and environments
follow.
ERROR bioconda_utils.build:build_recipes(346): BIOCONDA BUILD SUMMARY: while
the entire build failed, the following recipes were built successfully:
recipes/bioconductor-txdb.mmusculus.ucsc.mm10.ensgene
recipes/bioconductor-genelendatabase
recipes/bioconductor-goseq/1.22.0
recipes/bioconductor-txdb.dmelanogaster.ucsc.dm3.ensgene
ERROR bioconda_utils.build:build_recipes(351): BIOCONDA BUILD SUMMARY: FAILED
recipe bioconductor-csaw-1.6.1-r3.3.1_0.tar.bz2, environment
CONDA_GMP=5.1;CONDA_PY=27;CONDA_BOOST=1.60;CONDA_R=3.3.1;CONDA_GSL=1.16;CONDA_PERL=5.22.0;CONDA_NCURSES=5.9;CONDA_NPY=110



=============================================================================
## This part about travis_jigger is referring to a trick we use to prevent the
## build from timing out to quickly and can be ignored.
=============================================================================
/home/travis/build.sh: line 141:  3146 Terminated              travis_jigger $! $timeout $cmd



=============================================================================
## This is the final error from travis-ci telling us that our test script
## (scripts/travis-run.sh) did not exit with exit code 0 and is therefore
## considered a failed test.
=============================================================================

The command &quot;travis_wait 75 scripts/travis-run.sh&quot; exited with 1.
Done. Your build exited with 1.
</pre></div>
</div>
</div>
<div class="section" id="http-500-errors">
<h2>HTTP 500 errors<a class="headerlink" href="#http-500-errors" title="Permalink to this headline">¶</a></h2>
<p>Sometimes recipes fail for reasons outside our control. For example, if
anaconda.org returns an HTTP 500 error, that has nothing to do with the recipe
but with anaconda.org&#8217;s servers. In this case, you can either restart the build
for that sub-DAG on travis-ci, or close the PR and then immediately re-open it
to trigger a re-build.</p>
</div>
<div class="section" id="http-404-errors">
<h2>HTTP 404 errors<a class="headerlink" href="#http-404-errors" title="Permalink to this headline">¶</a></h2>
<p>HTTP 404 errors can happen if a url used for a recipe was not stable. In this
case the solution is to track down a stable URL. For example this problem
happened frequently with Bioconductor recipes that were up-to-date as of the
current Bioconductor release, but when a new Bioconductor version came out the
links would not work.</p>
<p>The solution to this is the <a class="reference external" href="https://depot.galaxyproject.org/software/">Cargo Port</a>, developed and maintained by the
<a class="reference external" href="https://galaxyproject.org/">Galaxy</a> team. The Galaxy Jenkins server performs
daily archives of the source code of packages in <code class="docutils literal"><span class="pre">bioconda</span></code>, and makes these
tarballs permanently available in Cargo Port. If you try rebuilding a recipe
and the source seems to have disappeared, do the following:</p>
<ul class="simple">
<li>search for the package and version at <a class="reference external" href="https://depot.galaxyproject.org/software/">https://depot.galaxyproject.org/software/</a></li>
<li>add the URL listed in the &#8220;Package Version&#8221; column to your <code class="docutils literal"><span class="pre">meta.yaml</span></code>
file as another entry in the <code class="docutils literal"><span class="pre">source:</span> <span class="pre">url</span></code> section.</li>
<li>add the corresponding sha256 checksum displayed upon clicking the Info icon
in the &#8220;Help&#8221; column to the <code class="docutils literal"><span class="pre">source:</span></code> section.</li>
</ul>
<p>For example, if this stopped working:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">source</span><span class="p">:</span>
  <span class="n">fn</span><span class="p">:</span> <span class="n">argh</span><span class="o">-</span><span class="mf">0.26</span><span class="o">.</span><span class="mf">1.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
  <span class="n">url</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">pypi</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">packages</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">a</span><span class="o">/</span><span class="n">argh</span><span class="o">/</span><span class="n">argh</span><span class="o">-</span><span class="mf">0.26</span><span class="o">.</span><span class="mf">1.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
  <span class="n">md5</span><span class="p">:</span> <span class="mi">5</span><span class="n">a97ce2ae74bbe3b63194906213f1184</span>
</pre></div>
</div>
<p>then change it to this:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">source</span><span class="p">:</span>
  <span class="n">fn</span><span class="p">:</span> <span class="n">argh</span><span class="o">-</span><span class="mf">0.26</span><span class="o">.</span><span class="mf">1.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
  <span class="n">url</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">pypi</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">packages</span><span class="o">/</span><span class="n">source</span><span class="o">/</span><span class="n">a</span><span class="o">/</span><span class="n">argh</span><span class="o">/</span><span class="n">argh</span><span class="o">-</span><span class="mf">0.26</span><span class="o">.</span><span class="mf">1.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
    <span class="o">-</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">depot</span><span class="o">.</span><span class="n">galaxyproject</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">software</span><span class="o">/</span><span class="n">argh</span><span class="o">/</span><span class="n">argh_0</span><span class="o">.</span><span class="mf">26.1</span><span class="n">_src_all</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
  <span class="n">md5</span><span class="p">:</span> <span class="mi">5</span><span class="n">a97ce2ae74bbe3b63194906213f1184</span>
  <span class="n">sha256</span><span class="p">:</span> <span class="mi">06</span><span class="n">a7442cb9130fb8806fe336000fcf20edf1f2f8ad205e7b62cec118505510db</span>
</pre></div>
</div>
</div>
<div class="section" id="zlib-errors">
<span id="zlib"></span><h2>ZLIB errors<a class="headerlink" href="#zlib-errors" title="Permalink to this headline">¶</a></h2>
<p>When building the package, you may get an error saying that zlib.h can&#8217;t be
found &#8211; despite having zlib listed in the dependencies. The reason is that the
location of <cite>zlib</cite> often has to be specified in the <cite>build.sh</cite> script, which
can be done like this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">&quot;-I</span><span class="nv">$PREFIX</span><span class="s2">/include&quot;</span>
<span class="nb">export</span> <span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;-L</span><span class="nv">$PREFIX</span><span class="s2">/lib&quot;</span>
</pre></div>
</div>
<p>Or sometimes:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">CPATH</span><span class="o">=</span><span class="si">${</span><span class="nv">PREFIX</span><span class="si">}</span>/include
</pre></div>
</div>
<p>Sometimes Makefiles may specify these locations, in which case they need to be
edited. See the <cite>samtools</cite> recipe for an example of this. It may take some
tinkering to get the recipe to build; if it doesn&#8217;t seem to work then please
submit an issue or notify <cite>&#64;bioconda/core</cite> for advice.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo/bioconda_monochrome_small.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="recipes.html">Available packages</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="contributing.html">Contributing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="contrib-setup.html">One-time setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="contribute-a-recipe.html">Contributing a recipe</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Troubleshooting failed recipes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reading-bioconda-utils-logs-on-travis-ci">Reading bioconda-utils logs on Travis-CI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#http-500-errors">HTTP 500 errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#http-404-errors">HTTP 404 errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zlib-errors">ZLIB errors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="build-system.html">Build system</a></li>
<li class="toctree-l2"><a class="reference internal" href="guidelines.html">Guidelines for <code class="docutils literal"><span class="pre">bioconda</span></code> recipes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faqs.html">FAQs</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, The Bioconda Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="_sources/troubleshooting.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>